<body>
  <div style="padding: 20px">
    <h2>Employee Dashboard</h2>

    <!-- <div style="margin-bottom: 10px; border: 1px solid black; padding: 10px">
      <strong>Highest Paid Employee:</strong>
      {{ highestPaid?.name }} - ₹{{ highestPaid?.salary }}
    </div> -->

    <!--here template based parent child Relationship is used-->
    <app-highest-salary [highpaidsal]="highestPaid"> </app-highest-salary>

    <div *ngIf="loggedInEmployee" class="logged-in-info">
      <h3>Details of the employee LoggedIn:</h3>
      <div><strong>Name:</strong> {{ loggedInEmployee.name }}</div>
      <div><strong>Salary:</strong> {{ loggedInEmployee.salary }}</div>
      <div><strong>Role:</strong> {{ loggedInEmployee.position }}</div>
    </div>

    <a routerLink="/highest-salary" class="highest-salary-link">
      view highest paid employee →
    </a>

    <!--Table-->

    <p-table [value]="employees">
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Position</th>
          <th pSortableColumn="salary">
            Salary <p-sortIcon field="salary"></p-sortIcon>
          </th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-emp>
        <tr>
          <td>{{ emp.id }}</td>
          <td>{{ emp.name }}</td>
          <td>{{ emp.position }}</td>
          <td>{{ emp.salary }}</td>
          <td>
            <button (click)="editEmployee(emp)">Edit</button>
            <button (click)="deleteEmployee(emp.id)">Delete</button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</body>
